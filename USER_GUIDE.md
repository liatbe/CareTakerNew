# CareTaker Management - User Guide

## Welcome to CareTaker Management

This guide will help you use the CareTaker Management application to document and manage payslips for your caretaker. The application is designed to be simple and intuitive, helping you keep track of all financial aspects of your caretaker's employment.

---

## Table of Contents

1. [Getting Started](#getting-started)
2. [Understanding User Roles](#understanding-user-roles)
3. [Dashboard Overview](#dashboard-overview)
4. [CareTaker Payslips](#caretaker-payslips)
5. [CareTaker Worklog](#caretaker-worklog)
6. [Elder Financials](#elder-financials)
7. [Elder Expenses](#elder-expenses)
8. [Shevah Coverage](#shevah-coverage)
9. [Settings](#settings)
10. [User Management](#user-management)
11. [Action Log](#action-log)
12. [Exporting Data](#exporting-data)
13. [Tips and Best Practices](#tips-and-best-practices)

---

## Getting Started

### First Time Registration

1. **Access the Application**: Open the CareTaker Management website in your web browser.

2. **Register Your Family**:
   - Click on "Register" at the bottom of the login page
   - Enter your **Family Name** (this will appear in the header)
   - Choose a **Username** (must be in English - letters, numbers, and symbols only)
   - Create a **Password** (must be in English - at least 4 characters)
   - Confirm your password
   - Enter the **Contract Start Date** (when the caretaker's employment began)
   - Enter the **Monthly Base Amount** (the base salary amount)
   - Select the **User Role**: Choose "Admin" for family members who need full access, or "Caretaker" for the caretaker
   - Click "Register"

3. **Important Notes**:
   - The first user registered for a family is automatically an Admin
   - You can add additional users later through User Management
   - All usernames and passwords must be in English characters only

### Logging In

1. Enter your **Username** and **Password**
2. Click "Login"
3. You will be taken to your dashboard (or Caretaker Worklog if you're a caretaker)

### Language Selection

- The application supports both **English** and **Hebrew**
- Click the language button in the top-right corner to switch languages
- All content will immediately update to your selected language

---

## Understanding User Roles

The application has two types of users:

### Admin Users (Family Members)
- **Full Access**: Can view and manage all sections of the application
- **Can See**: Dashboard, all financials, settings, user management, and action logs
- **Can Do**: Add/edit/delete entries, manage users, configure settings, export data

### Caretaker Users
- **Limited Access**: Can only access Caretaker Payslips and Caretaker Worklog
- **Can See**: 
  - Simplified payslip view (Base Amount and Bituah Leumi only)
  - Medical Insurance in yearly payments
  - All monthly one-time payments
  - Worklog calendar and activities
- **Can Do**: 
  - View their payslips (read-only)
  - Add and manage worklog activities
  - All actions are logged for admin review

---

## Dashboard Overview

The Dashboard provides a quick overview of your caretaker management activities.

### Calendar View
- **Visual Calendar**: See all worklog activities at a glance
- **Color-Coded Activities**: Each activity type has its own color:
  - Green: Vacation Days
  - Yellow: Sick Days
  - Blue: Shabbat
  - Orange: Pocket Money
  - Red: Hospital Visits
  - Purple: Holiday Vacation
- **Adding Activities**: Click on any date to add or view activities for that day
- **Multiple Activities**: You can add multiple activities to the same date

### Open Tasks
- **Pending Payments**: See which monthly and yearly payments are still pending
- **Partially Paid**: View payments that have been partially completed
- **Quick Access**: Click on any task to go directly to the relevant payslip

### Quick Actions
- **Add Activity**: Quickly add a new worklog activity
- **View Payslip**: Go directly to the current month's payslip
- **Refresh Tasks**: Update the task list to see the latest status

---

## CareTaker Payslips

The CareTaker Payslips section is where you generate and manage all payslip information.

### Monthly Payslip

1. **Select Month**: Use the month selector at the top to choose which month's payslip you want to view

2. **Monthly Payslip Details** (Admin View):
   - **Base Amount**: The monthly base salary
   - **Paid by Shevah**: Amount covered by Shevah (if applicable)
   - **Remaining Base Amount**: Base amount minus Shevah coverage
   - **Pension**: 6.5% of remaining base
   - **Firing Payment**: 8.33% of remaining base
   - **Bituah Leumi**: 3.6% of remaining base
   - **Total**: Sum of all monthly components

3. **Monthly Payslip Details** (Caretaker View):
   - **Base Amount**: The monthly base salary
   - **Bituah Leumi**: 3.6% of remaining base
   - (Other details are hidden for caretakers)

4. **Payment Status**: 
   - Select the payment status: **Paid**, **Pending**, or **Partially Paid**
   - If "Partially Paid" is selected:
     - Enter the amount that has been paid
     - The remaining amount will be calculated automatically

5. **Monthly One-Time Payments**:
   - Shows all one-time payments for the selected month (Shabbat, Pocket Money, etc.)
   - Each payment shows:
     - Description
     - Amount
     - Payment status (Paid/Pending/Partially Paid)
   - If partially paid, you can enter the paid amount
   - Total of all one-time payments is displayed at the bottom

### Yearly One-Time Payments

1. **Select Contract Year**: Use the dropdown to select which contract year you want to view
   - Contract years are calculated from the contract start date
   - Year 1 = first 12 months, Year 2 = next 12 months, etc.

2. **Yearly Payments** (Admin View):
   - **Medical Insurance**: Annual medical insurance amount
   - **Havraa**: Calculated as (Amount per Day Ã— Number of Days)
   - **Taagid Payment**: Annual Taagid payment
   - **Taagid Handling**: Annual Taagid handling fee
   - Each payment shows the amount and payment status

3. **Yearly Payments** (Caretaker View):
   - **Medical Insurance**: Annual medical insurance amount only
   - (Other yearly payments are hidden for caretakers)

4. **Payment Status**: 
   - Set status for each yearly payment: **Paid**, **Pending**, or **Partially Paid**
   - For partial payments, enter the paid amount

### Exporting Payslips

- Click the **"Export to Excel"** button at the top of the page
- The export includes:
  - All months with payslip data
  - Monthly one-time payments as sub-rows
  - Yearly payments by contract year
  - Payment statuses for all items
- The Excel file can be saved for your records

---

## CareTaker Worklog

The Worklog helps you track all caretaker activities throughout the year.

### Viewing Activities

1. **Calendar Display**: 
   - See all activities on a monthly calendar view
   - Activities are color-coded by type
   - Days with activities are highlighted

2. **Activity Types**:
   - **Vacation Day**: Regular vacation days
   - **Sick Day**: Days when the caretaker was sick
   - **Shabbat**: Shabbat work days
   - **Pocket Money**: Pocket money payments
   - **Hospital Visit**: Visits to the hospital
   - **Holiday Vacation**: Vacation during holidays

### Adding Activities

1. **From the Worklog Page**:
   - Click "Add Activity" button
   - Select the **Activity Type** (click on the colored label)
   - Select the **Date**
   - Click "Add Activity"

2. **From the Calendar**:
   - Click on any date in the calendar
   - A popup will appear showing:
     - Existing activities for that date (if any)
     - Option to add a new activity
   - Select activity type and click "Add Activity"

3. **Multiple Activities per Date**:
   - You can add multiple activities to the same date
   - For example: Shabbat + Pocket Money on the same day

### Editing and Deleting Activities

- **View Activities**: Click on a date in the calendar to see all activities for that day
- **Delete Activity**: Click the delete button (trash icon) next to any activity
- **Confirm Deletion**: You'll be asked to confirm before deleting

### Activity Colors

Each activity type has a distinct color for easy identification:
- ðŸŸ¢ **Green**: Vacation Day
- ðŸŸ¡ **Yellow**: Sick Day
- ðŸ”µ **Blue**: Shabbat
- ðŸŸ  **Orange**: Pocket Money
- ðŸ”´ **Red**: Hospital Visit
- ðŸŸ£ **Purple**: Holiday Vacation

---

## Elder Financials

Track all monthly payments made to the elder (the employer).

### Adding Financial Entries

1. Click **"Add New Entry"**
2. Enter an **Entry Name** (e.g., "Monthly Allowance", "Medical Expenses")
3. Enter the **Monthly Amount** in â‚ª
4. Click "Add"
5. The entry will appear in the list

### Managing Entries

- **Edit**: Click the edit button to modify an entry
- **Delete**: Click the delete button to remove an entry
- **Monthly Total**: The sum of all entries is automatically calculated and displayed

### Use Cases

- Track monthly allowances paid to the elder
- Record regular payments for specific purposes
- Monitor total monthly financial outflows

---

## Elder Expenses

Track monthly expenses that the elder incurs.

### Adding Expense Entries

1. Click **"Add New Entry"**
2. Enter an **Entry Name** (e.g., "Groceries", "Utilities", "Transportation")
3. Select the **Type**:
   - **Amount**: For expenses tracked by money (â‚ª)
   - **Hours**: For expenses tracked by time (hours)
4. Enter the value
5. Click "Add"

### Managing Entries

- **Edit**: Modify any entry by clicking the edit button
- **Delete**: Remove entries using the delete button
- **Monthly Totals**: 
  - Total Amount (for amount-type entries)
  - Total Hours (for hours-type entries)

### Bottom Line Calculation

- **Positive**: When Elder Financials exceed Elder Expenses
- **Negative**: When Elder Expenses exceed Elder Financials
- This helps you understand the net financial position

---

## Shevah Coverage

Calculate Bituah Leumi (National Insurance) coverage and related calculations.

### Understanding Shevah Coverage

- **Purpose**: Track how much of the caretaker's salary is covered by Shevah
- **Impact**: Reduces the amount you need to pay from your own funds

### Adding Coverage Entries

1. Click **"Add New Entry"** (if no entries exist)
2. Enter the coverage details:
   - **Coverage Amount**: How much is covered by Shevah
   - **Coverage Period**: The time period this coverage applies to
3. Click "Add"

### Managing Entries

- **Add Multiple Entries**: You can have multiple coverage periods
- **Edit**: Modify any entry
- **Delete**: Remove entries (you can delete all entries if needed)
- **No Default Entries**: The system allows you to have no entries if there's no coverage

### Calculation Impact

- The coverage amount is automatically deducted from the base amount in payslips
- This affects the remaining base amount used for pension, firing payment, and Bituah Leumi calculations

---

## Settings

The Settings page allows you to configure all calculation parameters and view expected yearly expenses.

### Contract Details

1. **Family Name**: 
   - Displayed in the header
   - Can be edited here
   - This is set during registration but can be changed

2. **Contract Start Date**: 
   - The date when the caretaker's employment began
   - Used to calculate contract years
   - Set during registration

3. **Monthly Base Amount**: 
   - The base monthly salary
   - Used in all payslip calculations
   - Set during registration but can be updated

### Activity Charges

Configure the cost per unit for each activity type:

- **Vacation Day**: Cost per vacation day
- **Sick Day**: Cost per sick day
- **Shabbat**: Cost per Shabbat
- **Pocket Money**: Amount per pocket money payment
- **Hospital Visit**: Cost per hospital visit
- **Holiday Vacation Day**: Cost per holiday vacation day

**To Update**: Simply change the value in the field and it will be saved automatically.

### Calculation Formula Parameters

These parameters control how yearly expenses are calculated:

1. **Vacation Days per Year**: Number of vacation days expected per year
2. **Holiday Vacation Days per Year**: Number of holiday vacation days per year
3. **Pocket Money Weeks per Year**: Number of weeks per year for pocket money (typically 52)
4. **Shabbat per Month**: Number of Shabbat days per month (typically 3)
5. **Shabbat Months per Year**: Number of months per year with Shabbat (typically 12)

**To Update**: Change the values and they will be saved automatically.

### Yearly Payments Configuration

Configure yearly one-time payments by contract year:

1. **Select Contract Year**: Use the dropdown to select which year to configure
   - Year 1 = first 12 months from contract start
   - Year 2 = next 12 months, etc.

2. **Configure Payments**:
   - **Medical Insurance**: Annual medical insurance amount
   - **Havraa**: 
     - **Amount per Day**: Cost per day (default: 174 â‚ª)
     - **Days**: Number of days for this contract year (default: 5 for year 1)
     - Total is calculated automatically (Amount Ã— Days)
   - **Taagid Payment**: Annual Taagid payment (default: 2000 â‚ª)
   - **Taagid Handling**: Annual Taagid handling fee (default: 840 â‚ª)

3. **Per Year Configuration**: 
   - Each contract year can have different amounts
   - Configure year 1, year 2, etc. separately
   - Changes are saved automatically

### Calculate Expected Yearly Expenses

1. Click the **"Calculate Expected Yearly Expenses"** button
2. The system will calculate and display:
   - **Yearly Base**: Total monthly expenses Ã— 12
   - **Vacation Days Cost**: Based on configured days and charges
   - **Holiday Vacation Days Cost**: Based on configured days and charges
   - **Pocket Money Cost**: Based on weeks per year and charge
   - **Shabbat Cost**: Based on Shabbat per month Ã— months per year
   - **Havraa**: Amount per day Ã— number of days
   - **Other Yearly Payments**: Medical Insurance, Taagid Payment, Taagid Handling
   - **Yearly One-Time Payments Total**: Sum of Havraa and other yearly payments
   - **Total Expected Yearly Expenses**: Grand total of all expenses

3. **Understanding the Results**:
   - This gives you an estimate of total yearly costs
   - Based on current settings and parameters
   - Useful for budgeting and planning

---

## User Management

(Admin Only) Manage users who can access your family's data.

### Viewing Users

- See all users associated with your family
- View each user's:
  - Username
  - Role (Admin or Caretaker)
  - Actions available

### Adding a New User

1. Click **"Add User"**
2. Fill in the form:
   - **Username**: Must be in English only
   - **Password**: Must be in English, at least 4 characters
   - **Name**: Display name for the user
   - **Role**: 
     - **Admin**: Full access to all features
     - **Caretaker**: Limited access (Payslips and Worklog only)
3. Click "Add User"
4. The new user can now log in with their credentials

### Deleting Users

- Click the delete button next to any user
- Confirm the deletion
- The user will no longer be able to access the system

### Important Notes

- You cannot delete yourself
- At least one admin user must remain
- All users share the same family data
- Family name is shared and doesn't need to be set per user

---

## Action Log

(Admin Only) View a log of all actions performed by caretakers.

### Purpose

- Track what caretakers have done in the system
- See when activities were added, modified, or deleted
- Maintain an audit trail

### Viewing the Log

- **Action Type**: What was done (e.g., "Add Activity", "Delete Activity")
- **Date and Time**: When the action occurred
- **Details**: Additional information about the action
- **User**: Which caretaker performed the action

### Use Cases

- Review caretaker activity
- Verify worklog entries
- Maintain records for compliance

---

## Exporting Data

### Exporting Payslips to Excel

1. Go to **CareTaker Payslips**
2. Click the **"Export to Excel"** button at the top
3. The system will generate an Excel file containing:
   - All months with payslip data
   - Monthly base amounts and calculations
   - Monthly one-time payments (as sub-rows)
   - Yearly payments by contract year
   - Payment statuses for all items
4. Save the file to your computer
5. Use it for:
   - Record keeping
   - Tax purposes
   - Financial planning
   - Sharing with accountants

### Excel File Structure

- **Main Rows**: One row per month with all monthly payslip details
- **Sub-Rows**: Monthly one-time payments indented under their month
- **Yearly Rows**: Separate rows for each yearly payment by contract year
- **Columns Include**: Month, amounts, payment statuses, descriptions

---

## Tips and Best Practices

### General Tips

1. **Regular Updates**: 
   - Update worklog activities regularly (daily or weekly)
   - Don't wait until the end of the month

2. **Payment Status**:
   - Update payment statuses as payments are made
   - Use "Partially Paid" when only part of a payment is made
   - Mark as "Paid" when payment is complete

3. **Contract Years**:
   - Remember that contract years are calculated from the contract start date
   - Year 1 = first 12 months, not calendar year
   - Configure yearly payments for each contract year separately

4. **Settings Configuration**:
   - Set up activity charges and parameters early
   - Review and update settings as needed
   - Use "Calculate Expected Yearly Expenses" to verify your setup

5. **Data Backup**:
   - Export payslips to Excel regularly for backup
   - Keep exported files in a safe location
   - The system stores data in the cloud, but backups are always good practice

### For Admins

1. **User Management**:
   - Only add users who need access
   - Use Caretaker role for the actual caretaker
   - Keep admin access limited to family members

2. **Review Action Logs**:
   - Periodically review caretaker actions
   - Verify worklog entries match actual work

3. **Settings Maintenance**:
   - Update activity charges if rates change
   - Adjust yearly payment amounts as needed
   - Keep contract details up to date

### For Caretakers

1. **Worklog Accuracy**:
   - Add activities on the day they occur
   - Be accurate with dates and activity types
   - All actions are logged for admin review

2. **Payslip Viewing**:
   - You can view your payslips but cannot edit them
   - Contact admin if you notice any discrepancies
   - Check payment statuses regularly

### Common Scenarios

**Scenario 1: Adding a Shabbat Activity**
1. Go to CareTaker Worklog
2. Click on the date in the calendar
3. Select "Shabbat" from the activity types
4. Click "Add Activity"
5. The activity appears on the calendar and will be included in monthly payslip calculations

**Scenario 2: Recording a Partial Payment**
1. Go to CareTaker Payslips
2. Select the relevant month
3. Change payment status to "Partially Paid"
4. Enter the amount that has been paid
5. The remaining amount is calculated automatically

**Scenario 3: Configuring Year 2 Payments**
1. Go to Settings
2. Select "Year 2" from the Contract Year dropdown
3. Update the yearly payment amounts for year 2
4. Changes are saved automatically
5. These amounts will appear in payslips for year 2

---

## Troubleshooting

### Can't Log In
- Verify your username and password are correct
- Make sure you're using English characters only
- Contact an admin user if you've forgotten your password

### Data Not Showing
- Make sure you're logged in with the correct account
- Check that you're viewing the correct month/year
- Refresh the page

### Payment Status Not Saving
- Make sure you're an admin user (caretakers have read-only access)
- Check your internet connection
- Try refreshing the page

### Activities Not Appearing on Calendar
- Make sure the activity was saved successfully
- Check that you're viewing the correct month
- Refresh the calendar view

### Export Not Working
- Make sure there's data to export
- Check your browser's download settings
- Try a different browser if issues persist

---

## Getting Help

If you need assistance:
1. Review this user guide
2. Check the application's built-in help text
3. Contact your system administrator
4. Ensure you're using a supported web browser

---

## Quick Reference

### Navigation Menu (Admin)
- **Dashboard**: Overview and quick actions
- **CareTaker Payslips**: Generate and manage payslips
- **CareTaker Worklog**: Track activities
- **Elder Financials**: Track payments to elder
- **Elder Expenses**: Track elder's expenses
- **Shevah Coverage**: Bituah Leumi coverage
- **Settings**: Configure system
- **User Management**: Manage users
- **Action Log**: View caretaker actions

### Navigation Menu (Caretaker)
- **CareTaker Payslips**: View payslips (read-only)
- **CareTaker Worklog**: Track activities

### Payment Statuses
- **Paid**: Payment completed in full
- **Pending**: Payment not yet made
- **Partially Paid**: Some payment made, remainder pending

### Activity Types
- Vacation Day, Sick Day, Shabbat, Pocket Money, Hospital Visit, Holiday Vacation

---

**Last Updated**: This guide covers all features as of the current version. The application may be updated with new features over time.

**Note**: All monetary amounts are in New Israeli Shekels (â‚ª).

